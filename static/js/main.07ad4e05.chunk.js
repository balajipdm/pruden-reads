(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(68)},33:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);a(33);var l=a(0),n=a.n(l),o=a(6),r=a.n(o),c=a(11),s=a(3),m=a(28),d=a(4),i=a(29),u=a.n(i),p={list:{},selected:null,loading:null,error:null},b=Object(s.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_BOOKS_REQUEST":return Object(d.a)({},e,{loading:!0,error:null});case"SEARCH_BOOKS_SUCCESS":return Object(d.a)({},e,{loading:!1,error:null,list:u.a.mapKeys(t.payload,"id")});case"SEARCH_BOOKS_FAILURE":return Object(d.a)({},e,{loading:!1,error:t.payload});case"FETCH_BOOK_REQUEST":return Object(d.a)({},e,{loading:!0,error:null});case"FETCH_BOOK_SUCCESS":return Object(d.a)({},e,{loading:!1,error:null,selected:t.payload});case"FETCH_BOOK_FAILURE":return Object(d.a)({},e,{loading:!1,error:t.payload});case"CLOSE_BOOK":return Object(d.a)({},e,{selected:null});default:return e}}}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,h=Object(s.e)(b,E(Object(s.a)(m.a))),y=function(){return n.a.createElement("header",{className:"mdl-layout__header"},n.a.createElement("div",{className:"mdl-layout__header-row"},n.a.createElement("span",{className:"mdl-layout-title"},"PrudenReads - GoodReads Search")))},f=a(8),g=a(9),O=a(12),k=a(10),_=a(13),v=a(30),N=a.n(v).a.create({headers:{"X-Requested-With":"XMLHttpRequest"},baseURL:"https://cors-anywhere.herokuapp.com/https://www.goodreads.com",params:{key:"gjN2nyeqHDpkvEEX6IbMw"}}),S=a(19),B=a.n(S),j=function(e){return{type:"SEARCH_BOOKS_FAILURE",payload:e}},C=(a(62),a(63),a(31),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;return e.length>t?e.substring(0,t-1)+"...":e}),x=function(e){var t=e.books,a=e.openBook;return n.a.createElement("div",{className:"mdl-grid"},t.map(function(e){return n.a.createElement("div",{key:e.id,className:"book-cell mdl-cell mdl-cell--3-col",onClick:function(t){return a(e.best_book.id)}},n.a.createElement("div",{className:"mdl-card mdl-shadow--2dp mdl-typography--text-left"},n.a.createElement("div",{className:"float-left icon-sm"},n.a.createElement("img",{src:e.best_book.image_url,alt:C(e.best_book.title)})),n.a.createElement("div",{className:"float-left ml-1"},n.a.createElement("h2",{className:"mdl-typography--title mb-1"},C(e.best_book.title)),n.a.createElement("p",null,"By ",e.best_book.author.name))))}))},R=function(e){function t(){var e,a;Object(f.a)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(n)))).state={value:""},a.handleOnChange=function(e){a.setState({value:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.searchBooks(a.state.value)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.openBook,a=e.books;return n.a.createElement("div",{className:"book-search mdl-typography--text-center"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"mdl-textfield mdl-js-textfield"},n.a.createElement("input",{className:"mdl-textfield__input",placeholder:"Search Books By Name",type:"text",onChange:this.handleOnChange,value:this.state.value})),n.a.createElement("button",{type:"submit",className:"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect ml-2"},n.a.createElement("i",{className:"material-icons mdl-textfield__label__icon"},"search"))),n.a.createElement(x,{openBook:function(e){return t(e)},books:a}))}}]),t}(l.Component),w=(a(64),a(20)),A=a.n(w),K=function(e){var t,a=e.book,l=e.closeBook;return n.a.createElement("div",{className:"mdl-grid book-details"},n.a.createElement("div",{className:"mdl-cell mdl-cell--2-col mdl-typography--text-center"},n.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect mb-1",onClick:function(e){return l()}},"Back"),n.a.createElement("div",{className:"icon-bg mb-2"},n.a.createElement("img",{src:a.image_url,alt:a.title})),n.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect"},"Want to Read"),n.a.createElement("div",{className:"mt-1 mb-2"},n.a.createElement("p",{className:"mb-0"},"Rate this book"),n.a.createElement(A.a,{starRatedColor:"grey",starDimension:"25px",starSpacing:"0px"})),n.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"},"Open Preview")),n.a.createElement("div",{className:"mdl-cell mdl-cell--10-col"},n.a.createElement("h1",{className:"mdl-typography--title mdl-typography--font-bold mb-1"},a.title),n.a.createElement("h2",{className:"mdl-typography--title mb-1"},"By ",(t=a.authors.author,Array.isArray(t)?t.map(function(e){return e.name}).join(","):t.name)),n.a.createElement("div",{className:"mdl-typography--font-bold mb-1"},n.a.createElement("span",{className:"display-rating"},n.a.createElement(A.a,{rating:Number(a.average_rating),starRatedColor:"red",starDimension:"25px",starSpacing:"0px"}),a.average_rating),n.a.createElement("span",{className:"color-text--grey"},"\xa0\xb7\xa0"),n.a.createElement("span",{className:"color-text--teal"},"Rating Details"),n.a.createElement("span",{className:"color-text--grey"},"\xa0\xb7\xa0"),n.a.createElement("span",{className:"color-text--teal"},a.ratings_count," Ratings"),n.a.createElement("span",{className:"color-text--grey"},"\xa0\xb7\xa0"),n.a.createElement("span",{className:"color-text--teal"},a.text_reviews_count," Reviews")),n.a.createElement("p",{className:"mb-2"},a.description),n.a.createElement("hr",{className:"mb-2"}),n.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect"},"Get a Copy")))},H=function(e){function t(){var e,a;Object(f.a)(this,t);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return(a=Object(O.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(n)))).handleSearchBooks=function(e){a.props.searchBooks(e)},a.handleOpenBook=function(e){a.props.fetchBook(e)},a.handleCloseBook=function(){a.props.closeBook()},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.books,a=e.selectedBook,l=e.loading,o=e.error;return n.a.createElement("div",{className:"mdl-grid"},n.a.createElement("div",{className:"mdl-layout-spacer"}),n.a.createElement("div",{className:"mdl-cell mdl-cell--10-col"},l&&n.a.createElement("p",{className:"mdl-typography--text-center mdl-typography--font-bold"},"Fetching Data..."),o&&n.a.createElement("p",{className:"color-text--red mdl-typography--text-center mdl-typography--font-bold"},o),a&&!o?n.a.createElement(K,{book:a,closeBook:this.handleCloseBook}):n.a.createElement(R,{searchBooks:this.handleSearchBooks,books:t,openBook:this.handleOpenBook})),n.a.createElement("div",{className:"mdl-layout-spacer"}))}}]),t}(l.Component),U=Object(c.b)(function(e){return{books:Object.values(e.books.list),selectedBook:e.books.selected,loading:e.books.loading,error:e.books.error}},{searchBooks:function(e){return function(t){e?(t({type:"SEARCH_BOOKS_REQUEST"}),N.get("/search/index.xml?q=".concat(e)).then(function(e){return(new B.a).xml2js(e.data)}).then(function(e){return t((a=e.GoodreadsResponse.search.results.work,Array.isArray(a)||(a=[a]),{type:"SEARCH_BOOKS_SUCCESS",payload:a}));var a}).catch(function(e){return t(j(e.toString()))})):t(j("Please enter book name."))}},fetchBook:function(e){return function(t){t({type:"FETCH_BOOK_REQUEST"}),N.get("/book/show.xml?id=".concat(e)).then(function(e){return(new B.a).xml2js(e.data)}).then(function(e){return t({type:"FETCH_BOOK_SUCCESS",payload:e.GoodreadsResponse.book})}).catch(function(e){return t({type:"FETCH_BOOK_FAILURE",payload:e.toString()})})}},closeBook:function(){return{type:"CLOSE_BOOK"}}})(H),T=function(){return n.a.createElement("div",{className:"mdl-layout mdl-js-layout mdl-layout--fixed-header is-small-screen"},n.a.createElement(y,null),n.a.createElement("main",{className:"mdl-layout__content"},n.a.createElement(U,null)))};r.a.render(n.a.createElement(c.a,{store:h},n.a.createElement(T,null)),document.querySelector("#root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.07ad4e05.chunk.js.map