{"version":3,"sources":["reducers/bookReducer.js","reducers/index.js","actions/types.js","createStore.js","components/Header.js","apis/books.js","actions/index.js","utils/index.js","components/books/BookList.js","components/books/BookSearch.js","components/books/BookShow.js","components/books/BooksModule.js","components/App.js","index.js"],"names":["INITIAL_STATE","list","selected","loading","error","combineReducers","books","state","arguments","length","undefined","action","type","Object","objectSpread","_","mapKeys","payload","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","Header","react_default","a","createElement","className","axios","create","headers","X-Requested-With","baseURL","CORS","params","key","searchBooksFailure","truncate","text","len","substring","BookList","_ref","openBook","map","book","id","onClick","e","best_book","src","image_url","alt","title","author","name","BookSearch","value","handleOnChange","_this","setState","target","handleSubmit","preventDefault","props","searchBooks","_this$props","this","onSubmit","placeholder","onChange","components_books_BookList","bookId","Component","BookShow","closeBook","build_default","starRatedColor","starDimension","starSpacing","authors","Array","isArray","join","rating","Number","average_rating","ratings_count","text_reviews_count","description","BooksModule","handleSearchBooks","query","handleOpenBook","fetchBook","handleCloseBook","selectedBook","components_books_BookShow","components_books_BookSearch","connect","values","dispatch","get","concat","then","response","x2js","xml2js","data","GoodreadsResponse","search","results","work","catch","toString","App","components_Header","books_BooksModule","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.07ad4e05.chunk.js","sourcesContent":["import _ from 'lodash';\r\n\r\nimport {\r\n  SEARCH_BOOKS_REQUEST,\r\n  SEARCH_BOOKS_SUCCESS,\r\n  SEARCH_BOOKS_FAILURE,\r\n  FETCH_BOOK_REQUEST,\r\n  FETCH_BOOK_SUCCESS,\r\n  FETCH_BOOK_FAILURE,\r\n  CLOSE_BOOK\r\n} from '../actions/types';\r\n\r\nconst INITIAL_STATE = {\r\n  list: {},\r\n  selected: null,\r\n  loading: null,\r\n  error: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SEARCH_BOOKS_REQUEST:\r\n      return { ...state, loading: true, error: null };\r\n    case SEARCH_BOOKS_SUCCESS:\r\n      return { ...state, loading: false, error: null, list: _.mapKeys(action.payload, 'id') };\r\n    case SEARCH_BOOKS_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case FETCH_BOOK_REQUEST:\r\n      return { ...state, loading: true, error: null };\r\n    case FETCH_BOOK_SUCCESS:\r\n      return { ...state, loading: false, error: null, selected: action.payload };\r\n    case FETCH_BOOK_FAILURE:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case CLOSE_BOOK:\r\n      return { ...state, selected: null };\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\n\r\nimport bookReducer from './bookReducer';\r\n\r\nexport default combineReducers({\r\n  books: bookReducer\r\n});","export const SEARCH_BOOKS_REQUEST = 'SEARCH_BOOKS_REQUEST';\r\nexport const SEARCH_BOOKS_SUCCESS = 'SEARCH_BOOKS_SUCCESS';\r\nexport const SEARCH_BOOKS_FAILURE = 'SEARCH_BOOKS_FAILURE';\r\nexport const FETCH_BOOK_REQUEST = 'FETCH_BOOK_REQUEST';\r\nexport const FETCH_BOOK_SUCCESS = 'FETCH_BOOK_SUCCESS';\r\nexport const FETCH_BOOK_FAILURE = 'FETCH_BOOK_FAILURE';\r\nexport const CLOSE_BOOK = 'CLOSE_BOOK';","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport reduxThunk from 'redux-thunk';\r\n\r\nimport reducers from './reducers';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store = createStore(reducers, composeEnhancers(applyMiddleware(reduxThunk)));\r\n","import React from 'react';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"mdl-layout__header\">\r\n      <div className=\"mdl-layout__header-row\">\r\n        <span className=\"mdl-layout-title\">\r\n          PrudenReads - GoodReads Search\r\n        </span>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nconst API_KEY = 'gjN2nyeqHDpkvEEX6IbMw';\r\nconst CORS = 'https://cors-anywhere.herokuapp.com/';\r\nconst API_URL = 'https://www.goodreads.com';\r\n\r\nexport default axios.create({\r\n  headers: { 'X-Requested-With': 'XMLHttpRequest' },\r\n  baseURL: CORS + API_URL,\r\n  params: { key: API_KEY }\r\n});","import books from '../apis/books';\r\nimport x2js from 'x2js';\r\n\r\nimport {\r\n  SEARCH_BOOKS_REQUEST,\r\n  SEARCH_BOOKS_SUCCESS,\r\n  SEARCH_BOOKS_FAILURE,\r\n  FETCH_BOOK_REQUEST,\r\n  FETCH_BOOK_SUCCESS,\r\n  FETCH_BOOK_FAILURE,\r\n  CLOSE_BOOK\r\n} from './types';\r\n\r\nconst searchBooksRequest = () => {\r\n  return { type: SEARCH_BOOKS_REQUEST };\r\n};\r\n\r\nconst searchBooksSuccess = payload => {\r\n  if (!Array.isArray(payload)) {\r\n    payload = [payload];\r\n  }\r\n  return { type: SEARCH_BOOKS_SUCCESS, payload };\r\n};\r\n\r\nconst searchBooksFailure = payload => {\r\n  return { type: SEARCH_BOOKS_FAILURE, payload };\r\n};\r\n\r\nexport const searchBooks = query => dispatch => {\r\n  if(!query) {\r\n    dispatch(searchBooksFailure('Please enter book name.'));\r\n    return;\r\n  }\r\n  dispatch(searchBooksRequest());\r\n  books.get(`/search/index.xml?q=${query}`)\r\n    .then(response => new x2js().xml2js(response.data))\r\n    .then(data => dispatch(searchBooksSuccess(data.GoodreadsResponse.search.results.work)))\r\n    .catch(e => dispatch(searchBooksFailure(e.toString())));\r\n};\r\n\r\nconst fetchBookRequest = () => {\r\n  return { type: FETCH_BOOK_REQUEST };\r\n};\r\n\r\nconst fetchBookSuccess = payload => {\r\n  return { type: FETCH_BOOK_SUCCESS, payload };\r\n};\r\n\r\nconst fetchBookFailure = payload => {\r\n  return { type: FETCH_BOOK_FAILURE, payload };\r\n};\r\n\r\nexport const fetchBook = id => dispatch => {\r\n  dispatch(fetchBookRequest());\r\n  books.get(`/book/show.xml?id=${id}`)\r\n    .then(response => new x2js().xml2js(response.data))\r\n    .then(data => dispatch(fetchBookSuccess(data.GoodreadsResponse.book)))\r\n    .catch(e => dispatch(fetchBookFailure(e.toString())));\r\n};\r\n\r\nexport const closeBook = () => {\r\n  return { type: CLOSE_BOOK };\r\n};","import checkPropTypes from 'check-prop-types';\r\n\r\nexport const findByTestAtrr = (component, attr) => {\r\n  const wrapper = component.find(attr);\r\n  return wrapper;\r\n};\r\n\r\nexport const checkProps = (component, expectedProps) => {\r\n  const propsErr = checkPropTypes(component, expectedProps, 'props', component.name);\r\n  return propsErr;\r\n};\r\n\r\nexport const truncate = (text, len = 15) => {\r\n  return text.length > len ? text.substring(0, len - 1) + '...' : text;\r\n};","import './BookList.scss';\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { truncate } from '../../utils';\r\n\r\nconst BookList = ({books, openBook}) => {\r\n  return (\r\n    <div className=\"mdl-grid\">\r\n      {\r\n        books.map(book => {\r\n          return (\r\n            <div key={book.id} className=\"book-cell mdl-cell mdl-cell--3-col\" onClick={e => openBook(book.best_book.id)}>\r\n              <div className=\"mdl-card mdl-shadow--2dp mdl-typography--text-left\">\r\n                <div className=\"float-left icon-sm\">\r\n                  <img src={book.best_book.image_url} alt={truncate(book.best_book.title)} />\r\n                </div>\r\n                <div className=\"float-left ml-1\">\r\n                  <h2 className=\"mdl-typography--title mb-1\">{truncate(book.best_book.title)}</h2>\r\n                  <p>\r\n                    By {book.best_book.author.name}\r\n                  </p>\r\n                </div>                            \r\n              </div>\r\n            </div>\r\n          );\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nBookList.propTypes = {\r\n  books: PropTypes.array.isRequired,\r\n  openBook: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookList;","import './BookSearch.scss';\r\n\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport BookList from './BookList';\r\n\r\nclass BookSearch extends Component {\r\n  \r\n  state = { value: '' };\r\n\r\n  handleOnChange = (e) => {\r\n    this.setState({value: e.target.value});    \r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.searchBooks(this.state.value);\r\n  }\r\n\r\n  render() {\r\n    const {openBook, books} = this.props;\r\n    return (\r\n      <div className=\"book-search mdl-typography--text-center\">\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"mdl-textfield mdl-js-textfield\">\r\n            <input \r\n              className=\"mdl-textfield__input\" \r\n              placeholder=\"Search Books By Name\" \r\n              type=\"text\"\r\n              onChange={this.handleOnChange}\r\n              value={this.state.value} />              \r\n          </div>\r\n          <button type=\"submit\" className=\"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect ml-2\">\r\n            <i className=\"material-icons mdl-textfield__label__icon\">search</i>\r\n          </button>\r\n        </form>\r\n        <BookList openBook={bookId => openBook(bookId)} books={books} />          \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nBookSearch.propTypes = {\r\n  searchBooks: PropTypes.func.isRequired,\r\n  books: PropTypes.array.isRequired,\r\n  openBook: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookSearch;","import './BookShow.scss';\r\n\r\nimport React from 'react';\r\nimport StarRatings from 'react-star-ratings';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst renderAuthor = (author) => {\r\n  if(Array.isArray(author)) {\r\n    return author.map(a => a.name).join(',');\r\n  } else {\r\n    return author.name;\r\n  }\r\n};\r\n\r\nconst BookShow = ({book, closeBook}) => {\r\n  return (\r\n    <div className=\"mdl-grid book-details\">\r\n      <div className=\"mdl-cell mdl-cell--2-col mdl-typography--text-center\">\r\n        <button className=\"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect mb-1\" onClick={e => closeBook()}>\r\n          Back\r\n        </button>\r\n        <div className=\"icon-bg mb-2\">\r\n          <img src={book.image_url} alt={book.title} />\r\n        </div>\r\n        <button className=\"mdl-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect\">\r\n          Want to Read\r\n        </button>\r\n        <div className=\"mt-1 mb-2\">\r\n          <p className=\"mb-0\">Rate this book</p>\r\n          <StarRatings\r\n            starRatedColor=\"grey\"\r\n            starDimension=\"25px\"\r\n            starSpacing=\"0px\"\r\n          />\r\n        </div>\r\n        <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\">\r\n          Open Preview\r\n        </button>\r\n      </div>\r\n      <div className=\"mdl-cell mdl-cell--10-col\">\r\n        <h1 className=\"mdl-typography--title mdl-typography--font-bold mb-1\">{book.title}</h1>\r\n        <h2 className=\"mdl-typography--title mb-1\">By {renderAuthor(book.authors.author)}</h2>\r\n        <div className=\"mdl-typography--font-bold mb-1\">\r\n          <span className=\"display-rating\">\r\n            <StarRatings\r\n              rating={Number(book.average_rating)}\r\n              starRatedColor=\"red\"\r\n              starDimension=\"25px\"\r\n              starSpacing=\"0px\"\r\n            />\r\n            {book.average_rating}\r\n          </span>\r\n          <span className=\"color-text--grey\">&nbsp;·&nbsp;</span>\r\n          <span className=\"color-text--teal\">\r\n            Rating Details\r\n          </span>\r\n          <span className=\"color-text--grey\">&nbsp;·&nbsp;</span>\r\n          <span className=\"color-text--teal\">\r\n            {book.ratings_count} Ratings\r\n          </span>\r\n          <span className=\"color-text--grey\">&nbsp;·&nbsp;</span>\r\n          <span className=\"color-text--teal\">\r\n            {book.text_reviews_count} Reviews\r\n          </span>\r\n        </div>\r\n        <p className=\"mb-2\">{book.description}</p>\r\n        <hr className=\"mb-2\" />\r\n        <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\">\r\n          Get a Copy\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nBookShow.propTypes = {\r\n  book: PropTypes.object.isRequired,\r\n  closeBook: PropTypes.func.isRequired\r\n};\r\n\r\nexport default BookShow;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { searchBooks, fetchBook, closeBook } from '../../actions';\r\nimport BookSearch from './BookSearch';\r\nimport BookShow from './BookShow';\r\n\r\nclass BooksModule extends Component {\r\n  \r\n  handleSearchBooks = (query) => {\r\n    this.props.searchBooks(query);\r\n  }\r\n\r\n  handleOpenBook = (bookId) => {\r\n    this.props.fetchBook(bookId);\r\n  }\r\n\r\n  handleCloseBook = () => {\r\n    this.props.closeBook();\r\n  }\r\n\r\n  render() {\r\n    const {books, selectedBook, loading, error} = this.props;\r\n    return (\r\n      <div className=\"mdl-grid\">\r\n        <div className=\"mdl-layout-spacer\"></div>\r\n        <div className=\"mdl-cell mdl-cell--10-col\">\r\n        {loading &&\r\n          <p className=\"mdl-typography--text-center mdl-typography--font-bold\">Fetching Data...</p>\r\n        }\r\n        {error &&\r\n          <p className=\"color-text--red mdl-typography--text-center mdl-typography--font-bold\">{error}</p>\r\n        }\r\n        {selectedBook && !error ? (\r\n            <BookShow\r\n              book={selectedBook}\r\n              closeBook={this.handleCloseBook}\r\n            />\r\n          ) : (\r\n            <BookSearch\r\n              searchBooks={this.handleSearchBooks}\r\n              books={books}\r\n              openBook={this.handleOpenBook}\r\n            />\r\n          )}   \r\n        </div>\r\n        <div className=\"mdl-layout-spacer\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    books: Object.values(state.books.list),\r\n    selectedBook: state.books.selected,\r\n    loading: state.books.loading,\r\n    error: state.books.error\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { searchBooks, fetchBook, closeBook })(BooksModule);","import React from 'react';\r\n\r\nimport Header from './Header';\r\nimport BooksModule from './books/BooksModule';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"mdl-layout mdl-js-layout mdl-layout--fixed-header is-small-screen\">\r\n      <Header />\r\n      <main className=\"mdl-layout__content\">\r\n        <BooksModule />\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;","import './styles/app.scss';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { store } from './createStore';\nimport App from './components/App';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n);"],"sourceRoot":""}